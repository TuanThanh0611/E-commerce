import { Optional } from '@angular/core';
import { NAVIGATOR } from '@ng-web-apis/common';
import { SSR_USER_AGENT } from '../tokens/ssr-user-agent';
import { EVENT_TARGET } from '../utils/event-target';
import { alwaysFalse, alwaysRejected, alwaysZero, emptyArray, emptyFunction, emptyObject, } from '../utils/functions';
// eslint-disable-next-line @typescript-eslint/explicit-function-return-type
function getArray() {
    return new (class extends Array {
        item = () => null;
        namedItem = () => null;
        refresh() { }
    })();
}
export const NAVIGATOR_MOCK = {
    appCodeName: '',
    appName: '',
    appVersion: '',
    platform: '',
    product: '',
    productSub: '',
    userAgent: '',
    vendor: '',
    vendorSub: '',
    onLine: false,
    confirmSiteSpecificTrackingException: alwaysFalse,
    confirmWebWideTrackingException: alwaysFalse,
    share: alwaysRejected,
    registerProtocolHandler: emptyFunction,
    unregisterProtocolHandler: emptyFunction,
    removeSiteSpecificTrackingException: emptyFunction,
    removeWebWideTrackingException: emptyFunction,
    storeSiteSpecificTrackingException: emptyFunction,
    storeWebWideTrackingException: emptyFunction,
    credentials: {
        create: alwaysRejected,
        get: alwaysRejected,
        preventSilentAccess: alwaysRejected,
        store: alwaysRejected,
    },
    msSaveBlob: alwaysFalse,
    msSaveOrOpenBlob: alwaysFalse,
    sendBeacon: alwaysFalse,
    hardwareConcurrency: 0,
    getDisplayMedia: alwaysRejected,
    language: '',
    languages: [],
    storage: {
        estimate: alwaysRejected,
        persist: alwaysRejected,
        persisted: alwaysRejected,
    },
    activeVRDisplays: [],
    authentication: {
        getAssertion: alwaysRejected,
        makeCredential: alwaysRejected,
    },
    clipboard: {
        ...EVENT_TARGET,
        readText: alwaysRejected,
        writeText: alwaysRejected,
    },
    cookieEnabled: false,
    doNotTrack: null,
    gamepadInputEmulation: 'keyboard',
    geolocation: {
        clearWatch: emptyFunction,
        getCurrentPosition: emptyFunction,
        watchPosition: alwaysZero,
    },
    maxTouchPoints: 0,
    mediaDevices: {
        ...EVENT_TARGET,
        ondevicechange: null,
        enumerateDevices: alwaysRejected,
        getSupportedConstraints: emptyObject,
        getUserMedia: alwaysRejected,
    },
    mimeTypes: getArray(),
    msManipulationViewsEnabled: false,
    msMaxTouchPoints: 0,
    msPointerEnabled: false,
    permissions: {
        query: alwaysRejected,
    },
    plugins: getArray(),
    pointerEnabled: false,
    serviceWorker: {
        ...EVENT_TARGET,
        controller: null,
        oncontrollerchange: null,
        onmessage: null,
        onmessageerror: null,
        ready: alwaysRejected(),
        getRegistration: alwaysRejected,
        getRegistrations: alwaysRejected,
        register: alwaysRejected,
        startMessages: emptyFunction,
    },
    webdriver: false,
    getGamepads: emptyArray,
    getUserMedia: emptyFunction,
    getVRDisplays: alwaysRejected,
    javaEnabled: alwaysFalse,
    msLaunchUri: emptyFunction,
    requestMediaKeySystemAccess: alwaysRejected,
    vibrate: alwaysFalse,
};
export const UNIVERSAL_NAVIGATOR = {
    provide: NAVIGATOR,
    deps: [[new Optional(), SSR_USER_AGENT]],
    useFactory: (userAgent) => ({
        ...NAVIGATOR_MOCK,
        userAgent: userAgent || '',
    }),
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdmVyc2FsLW5hdmlnYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYnMvdW5pdmVyc2FsL3NyYy9jb25zdGFudHMvdW5pdmVyc2FsLW5hdmlnYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3ZDLE9BQU8sRUFBQyxTQUFTLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUU5QyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sMEJBQTBCLENBQUM7QUFDeEQsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBQ25ELE9BQU8sRUFDSCxXQUFXLEVBQ1gsY0FBYyxFQUNkLFVBQVUsRUFDVixVQUFVLEVBQ1YsYUFBYSxFQUNiLFdBQVcsR0FDZCxNQUFNLG9CQUFvQixDQUFDO0FBRTVCLDRFQUE0RTtBQUM1RSxTQUFTLFFBQVE7SUFDYixPQUFPLElBQUksQ0FBQyxLQUFNLFNBQVEsS0FBUTtRQUN2QixJQUFJLEdBQUcsR0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDO1FBQ3hCLFNBQVMsR0FBRyxHQUFTLEVBQUUsQ0FBQyxJQUFJLENBQUM7UUFDN0IsT0FBTyxLQUFVLENBQUM7S0FDNUIsQ0FBQyxFQUFFLENBQUM7QUFDVCxDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFjO0lBQ3JDLFdBQVcsRUFBRSxFQUFFO0lBQ2YsT0FBTyxFQUFFLEVBQUU7SUFDWCxVQUFVLEVBQUUsRUFBRTtJQUNkLFFBQVEsRUFBRSxFQUFFO0lBQ1osT0FBTyxFQUFFLEVBQUU7SUFDWCxVQUFVLEVBQUUsRUFBRTtJQUNkLFNBQVMsRUFBRSxFQUFFO0lBQ2IsTUFBTSxFQUFFLEVBQUU7SUFDVixTQUFTLEVBQUUsRUFBRTtJQUNiLE1BQU0sRUFBRSxLQUFLO0lBQ2Isb0NBQW9DLEVBQUUsV0FBVztJQUNqRCwrQkFBK0IsRUFBRSxXQUFXO0lBQzVDLEtBQUssRUFBRSxjQUFjO0lBQ3JCLHVCQUF1QixFQUFFLGFBQWE7SUFDdEMseUJBQXlCLEVBQUUsYUFBYTtJQUN4QyxtQ0FBbUMsRUFBRSxhQUFhO0lBQ2xELDhCQUE4QixFQUFFLGFBQWE7SUFDN0Msa0NBQWtDLEVBQUUsYUFBYTtJQUNqRCw2QkFBNkIsRUFBRSxhQUFhO0lBQzVDLFdBQVcsRUFBRTtRQUNULE1BQU0sRUFBRSxjQUFjO1FBQ3RCLEdBQUcsRUFBRSxjQUFjO1FBQ25CLG1CQUFtQixFQUFFLGNBQWM7UUFDbkMsS0FBSyxFQUFFLGNBQWM7S0FDeEI7SUFDRCxVQUFVLEVBQUUsV0FBVztJQUN2QixnQkFBZ0IsRUFBRSxXQUFXO0lBQzdCLFVBQVUsRUFBRSxXQUFXO0lBQ3ZCLG1CQUFtQixFQUFFLENBQUM7SUFDdEIsZUFBZSxFQUFFLGNBQWM7SUFDL0IsUUFBUSxFQUFFLEVBQUU7SUFDWixTQUFTLEVBQUUsRUFBRTtJQUNiLE9BQU8sRUFBRTtRQUNMLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLE9BQU8sRUFBRSxjQUFjO1FBQ3ZCLFNBQVMsRUFBRSxjQUFjO0tBQzVCO0lBQ0QsZ0JBQWdCLEVBQUUsRUFBRTtJQUNwQixjQUFjLEVBQUU7UUFDWixZQUFZLEVBQUUsY0FBYztRQUM1QixjQUFjLEVBQUUsY0FBYztLQUNqQztJQUNELFNBQVMsRUFBRTtRQUNQLEdBQUcsWUFBWTtRQUNmLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLFNBQVMsRUFBRSxjQUFjO0tBQzVCO0lBQ0QsYUFBYSxFQUFFLEtBQUs7SUFDcEIsVUFBVSxFQUFFLElBQUk7SUFDaEIscUJBQXFCLEVBQUUsVUFBVTtJQUNqQyxXQUFXLEVBQUU7UUFDVCxVQUFVLEVBQUUsYUFBYTtRQUN6QixrQkFBa0IsRUFBRSxhQUFhO1FBQ2pDLGFBQWEsRUFBRSxVQUFVO0tBQzVCO0lBQ0QsY0FBYyxFQUFFLENBQUM7SUFDakIsWUFBWSxFQUFFO1FBQ1YsR0FBRyxZQUFZO1FBQ2YsY0FBYyxFQUFFLElBQUk7UUFDcEIsZ0JBQWdCLEVBQUUsY0FBYztRQUNoQyx1QkFBdUIsRUFBRSxXQUFXO1FBQ3BDLFlBQVksRUFBRSxjQUFjO0tBQy9CO0lBQ0QsU0FBUyxFQUFFLFFBQVEsRUFBWTtJQUMvQiwwQkFBMEIsRUFBRSxLQUFLO0lBQ2pDLGdCQUFnQixFQUFFLENBQUM7SUFDbkIsZ0JBQWdCLEVBQUUsS0FBSztJQUN2QixXQUFXLEVBQUU7UUFDVCxLQUFLLEVBQUUsY0FBYztLQUN4QjtJQUNELE9BQU8sRUFBRSxRQUFRLEVBQVU7SUFDM0IsY0FBYyxFQUFFLEtBQUs7SUFDckIsYUFBYSxFQUFFO1FBQ1gsR0FBRyxZQUFZO1FBQ2YsVUFBVSxFQUFFLElBQUk7UUFDaEIsa0JBQWtCLEVBQUUsSUFBSTtRQUN4QixTQUFTLEVBQUUsSUFBSTtRQUNmLGNBQWMsRUFBRSxJQUFJO1FBQ3BCLEtBQUssRUFBRSxjQUFjLEVBQUU7UUFDdkIsZUFBZSxFQUFFLGNBQWM7UUFDL0IsZ0JBQWdCLEVBQUUsY0FBYztRQUNoQyxRQUFRLEVBQUUsY0FBYztRQUN4QixhQUFhLEVBQUUsYUFBYTtLQUMvQjtJQUNELFNBQVMsRUFBRSxLQUFLO0lBQ2hCLFdBQVcsRUFBRSxVQUFVO0lBQ3ZCLFlBQVksRUFBRSxhQUFhO0lBQzNCLGFBQWEsRUFBRSxjQUFjO0lBQzdCLFdBQVcsRUFBRSxXQUFXO0lBQ3hCLFdBQVcsRUFBRSxhQUFhO0lBQzFCLDJCQUEyQixFQUFFLGNBQWM7SUFDM0MsT0FBTyxFQUFFLFdBQVc7Q0FDQyxDQUFDO0FBRTFCLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFvQjtJQUNoRCxPQUFPLEVBQUUsU0FBUztJQUNsQixJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksUUFBUSxFQUFFLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDeEMsVUFBVSxFQUFFLENBQUMsU0FBd0IsRUFBYSxFQUFFLENBQUMsQ0FBQztRQUNsRCxHQUFHLGNBQWM7UUFDakIsU0FBUyxFQUFFLFNBQVMsSUFBSSxFQUFFO0tBQzdCLENBQUM7Q0FDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUge0ZhY3RvcnlQcm92aWRlcn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge09wdGlvbmFsfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7TkFWSUdBVE9SfSBmcm9tICdAbmctd2ViLWFwaXMvY29tbW9uJztcblxuaW1wb3J0IHtTU1JfVVNFUl9BR0VOVH0gZnJvbSAnLi4vdG9rZW5zL3Nzci11c2VyLWFnZW50JztcbmltcG9ydCB7RVZFTlRfVEFSR0VUfSBmcm9tICcuLi91dGlscy9ldmVudC10YXJnZXQnO1xuaW1wb3J0IHtcbiAgICBhbHdheXNGYWxzZSxcbiAgICBhbHdheXNSZWplY3RlZCxcbiAgICBhbHdheXNaZXJvLFxuICAgIGVtcHR5QXJyYXksXG4gICAgZW1wdHlGdW5jdGlvbixcbiAgICBlbXB0eU9iamVjdCxcbn0gZnJvbSAnLi4vdXRpbHMvZnVuY3Rpb25zJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZVxuZnVuY3Rpb24gZ2V0QXJyYXk8VD4oKSB7XG4gICAgcmV0dXJuIG5ldyAoY2xhc3MgZXh0ZW5kcyBBcnJheTxUPiB7XG4gICAgICAgIHB1YmxpYyBpdGVtID0gKCk6IG51bGwgPT4gbnVsbDtcbiAgICAgICAgcHVibGljIG5hbWVkSXRlbSA9ICgpOiBudWxsID0+IG51bGw7XG4gICAgICAgIHB1YmxpYyByZWZyZXNoKCk6IHZvaWQge31cbiAgICB9KSgpO1xufVxuXG5leHBvcnQgY29uc3QgTkFWSUdBVE9SX01PQ0s6IE5hdmlnYXRvciA9IHtcbiAgICBhcHBDb2RlTmFtZTogJycsXG4gICAgYXBwTmFtZTogJycsXG4gICAgYXBwVmVyc2lvbjogJycsXG4gICAgcGxhdGZvcm06ICcnLFxuICAgIHByb2R1Y3Q6ICcnLFxuICAgIHByb2R1Y3RTdWI6ICcnLFxuICAgIHVzZXJBZ2VudDogJycsXG4gICAgdmVuZG9yOiAnJyxcbiAgICB2ZW5kb3JTdWI6ICcnLFxuICAgIG9uTGluZTogZmFsc2UsXG4gICAgY29uZmlybVNpdGVTcGVjaWZpY1RyYWNraW5nRXhjZXB0aW9uOiBhbHdheXNGYWxzZSxcbiAgICBjb25maXJtV2ViV2lkZVRyYWNraW5nRXhjZXB0aW9uOiBhbHdheXNGYWxzZSxcbiAgICBzaGFyZTogYWx3YXlzUmVqZWN0ZWQsXG4gICAgcmVnaXN0ZXJQcm90b2NvbEhhbmRsZXI6IGVtcHR5RnVuY3Rpb24sXG4gICAgdW5yZWdpc3RlclByb3RvY29sSGFuZGxlcjogZW1wdHlGdW5jdGlvbixcbiAgICByZW1vdmVTaXRlU3BlY2lmaWNUcmFja2luZ0V4Y2VwdGlvbjogZW1wdHlGdW5jdGlvbixcbiAgICByZW1vdmVXZWJXaWRlVHJhY2tpbmdFeGNlcHRpb246IGVtcHR5RnVuY3Rpb24sXG4gICAgc3RvcmVTaXRlU3BlY2lmaWNUcmFja2luZ0V4Y2VwdGlvbjogZW1wdHlGdW5jdGlvbixcbiAgICBzdG9yZVdlYldpZGVUcmFja2luZ0V4Y2VwdGlvbjogZW1wdHlGdW5jdGlvbixcbiAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBjcmVhdGU6IGFsd2F5c1JlamVjdGVkLFxuICAgICAgICBnZXQ6IGFsd2F5c1JlamVjdGVkLFxuICAgICAgICBwcmV2ZW50U2lsZW50QWNjZXNzOiBhbHdheXNSZWplY3RlZCxcbiAgICAgICAgc3RvcmU6IGFsd2F5c1JlamVjdGVkLFxuICAgIH0sXG4gICAgbXNTYXZlQmxvYjogYWx3YXlzRmFsc2UsXG4gICAgbXNTYXZlT3JPcGVuQmxvYjogYWx3YXlzRmFsc2UsXG4gICAgc2VuZEJlYWNvbjogYWx3YXlzRmFsc2UsXG4gICAgaGFyZHdhcmVDb25jdXJyZW5jeTogMCxcbiAgICBnZXREaXNwbGF5TWVkaWE6IGFsd2F5c1JlamVjdGVkLFxuICAgIGxhbmd1YWdlOiAnJyxcbiAgICBsYW5ndWFnZXM6IFtdLFxuICAgIHN0b3JhZ2U6IHtcbiAgICAgICAgZXN0aW1hdGU6IGFsd2F5c1JlamVjdGVkLFxuICAgICAgICBwZXJzaXN0OiBhbHdheXNSZWplY3RlZCxcbiAgICAgICAgcGVyc2lzdGVkOiBhbHdheXNSZWplY3RlZCxcbiAgICB9LFxuICAgIGFjdGl2ZVZSRGlzcGxheXM6IFtdLFxuICAgIGF1dGhlbnRpY2F0aW9uOiB7XG4gICAgICAgIGdldEFzc2VydGlvbjogYWx3YXlzUmVqZWN0ZWQsXG4gICAgICAgIG1ha2VDcmVkZW50aWFsOiBhbHdheXNSZWplY3RlZCxcbiAgICB9LFxuICAgIGNsaXBib2FyZDoge1xuICAgICAgICAuLi5FVkVOVF9UQVJHRVQsXG4gICAgICAgIHJlYWRUZXh0OiBhbHdheXNSZWplY3RlZCxcbiAgICAgICAgd3JpdGVUZXh0OiBhbHdheXNSZWplY3RlZCxcbiAgICB9LFxuICAgIGNvb2tpZUVuYWJsZWQ6IGZhbHNlLFxuICAgIGRvTm90VHJhY2s6IG51bGwsXG4gICAgZ2FtZXBhZElucHV0RW11bGF0aW9uOiAna2V5Ym9hcmQnLFxuICAgIGdlb2xvY2F0aW9uOiB7XG4gICAgICAgIGNsZWFyV2F0Y2g6IGVtcHR5RnVuY3Rpb24sXG4gICAgICAgIGdldEN1cnJlbnRQb3NpdGlvbjogZW1wdHlGdW5jdGlvbixcbiAgICAgICAgd2F0Y2hQb3NpdGlvbjogYWx3YXlzWmVybyxcbiAgICB9LFxuICAgIG1heFRvdWNoUG9pbnRzOiAwLFxuICAgIG1lZGlhRGV2aWNlczoge1xuICAgICAgICAuLi5FVkVOVF9UQVJHRVQsXG4gICAgICAgIG9uZGV2aWNlY2hhbmdlOiBudWxsLFxuICAgICAgICBlbnVtZXJhdGVEZXZpY2VzOiBhbHdheXNSZWplY3RlZCxcbiAgICAgICAgZ2V0U3VwcG9ydGVkQ29uc3RyYWludHM6IGVtcHR5T2JqZWN0LFxuICAgICAgICBnZXRVc2VyTWVkaWE6IGFsd2F5c1JlamVjdGVkLFxuICAgIH0sXG4gICAgbWltZVR5cGVzOiBnZXRBcnJheTxNaW1lVHlwZT4oKSxcbiAgICBtc01hbmlwdWxhdGlvblZpZXdzRW5hYmxlZDogZmFsc2UsXG4gICAgbXNNYXhUb3VjaFBvaW50czogMCxcbiAgICBtc1BvaW50ZXJFbmFibGVkOiBmYWxzZSxcbiAgICBwZXJtaXNzaW9uczoge1xuICAgICAgICBxdWVyeTogYWx3YXlzUmVqZWN0ZWQsXG4gICAgfSxcbiAgICBwbHVnaW5zOiBnZXRBcnJheTxQbHVnaW4+KCksXG4gICAgcG9pbnRlckVuYWJsZWQ6IGZhbHNlLFxuICAgIHNlcnZpY2VXb3JrZXI6IHtcbiAgICAgICAgLi4uRVZFTlRfVEFSR0VULFxuICAgICAgICBjb250cm9sbGVyOiBudWxsLFxuICAgICAgICBvbmNvbnRyb2xsZXJjaGFuZ2U6IG51bGwsXG4gICAgICAgIG9ubWVzc2FnZTogbnVsbCxcbiAgICAgICAgb25tZXNzYWdlZXJyb3I6IG51bGwsXG4gICAgICAgIHJlYWR5OiBhbHdheXNSZWplY3RlZCgpLFxuICAgICAgICBnZXRSZWdpc3RyYXRpb246IGFsd2F5c1JlamVjdGVkLFxuICAgICAgICBnZXRSZWdpc3RyYXRpb25zOiBhbHdheXNSZWplY3RlZCxcbiAgICAgICAgcmVnaXN0ZXI6IGFsd2F5c1JlamVjdGVkLFxuICAgICAgICBzdGFydE1lc3NhZ2VzOiBlbXB0eUZ1bmN0aW9uLFxuICAgIH0sXG4gICAgd2ViZHJpdmVyOiBmYWxzZSxcbiAgICBnZXRHYW1lcGFkczogZW1wdHlBcnJheSxcbiAgICBnZXRVc2VyTWVkaWE6IGVtcHR5RnVuY3Rpb24sXG4gICAgZ2V0VlJEaXNwbGF5czogYWx3YXlzUmVqZWN0ZWQsXG4gICAgamF2YUVuYWJsZWQ6IGFsd2F5c0ZhbHNlLFxuICAgIG1zTGF1bmNoVXJpOiBlbXB0eUZ1bmN0aW9uLFxuICAgIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzczogYWx3YXlzUmVqZWN0ZWQsXG4gICAgdmlicmF0ZTogYWx3YXlzRmFsc2UsXG59IGFzIHVua25vd24gYXMgTmF2aWdhdG9yO1xuXG5leHBvcnQgY29uc3QgVU5JVkVSU0FMX05BVklHQVRPUjogRmFjdG9yeVByb3ZpZGVyID0ge1xuICAgIHByb3ZpZGU6IE5BVklHQVRPUixcbiAgICBkZXBzOiBbW25ldyBPcHRpb25hbCgpLCBTU1JfVVNFUl9BR0VOVF1dLFxuICAgIHVzZUZhY3Rvcnk6ICh1c2VyQWdlbnQ6IHN0cmluZyB8IG51bGwpOiBOYXZpZ2F0b3IgPT4gKHtcbiAgICAgICAgLi4uTkFWSUdBVE9SX01PQ0ssXG4gICAgICAgIHVzZXJBZ2VudDogdXNlckFnZW50IHx8ICcnLFxuICAgIH0pLFxufTtcbiJdfQ==